{"openapi":"3.1.0","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"tags":[{"name":"User Management","description":"Endpoints for editing user details"},{"name":"Transactions","description":"Endpoints for managing user transactions"},{"name":"Stations","description":"Endpoints for managing stations"},{"name":"Connectors","description":"Endpoints for managing connectors"},{"name":"Authentication","description":"Login and register endpoints"},{"name":"User Management","description":"Endpoints for managing user profiles"}],"paths":{"/api/v1/user/edit":{"put":{"tags":["User Management"],"summary":"Edit user details","description":"Allows a user to edit their details.","operationId":"edit","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EditRequest"}}},"required":true},"responses":{"200":{"description":"Edit successful","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EditResponse"}}}},"500":{"description":"Internal server error","content":{"application/json":{}}},"400":{"description":"Invalid request payload","content":{"application/json":{}}}}}},"/api/v1/connector/reserve":{"put":{"tags":["Connectors"],"summary":"Reserve a connector","description":"Reserves a connector for a user.","operationId":"reserveConnector","parameters":[{"name":"Authorization","in":"header","description":"Authorization token","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReserveRequest"}}},"required":true},"responses":{"200":{"description":"Connector reserved successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReservationResponse"}}}},"401":{"description":"Unauthorized access","content":{"application/json":{}}},"500":{"description":"Internal server error","content":{"application/json":{}}},"400":{"description":"Invalid request payload","content":{"application/json":{}}}}}},"/api/v1/station/add":{"post":{"tags":["Stations"],"summary":"Add a new station","description":"Adds a new station to the system.","operationId":"addStation","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddRequest"}}},"required":true},"responses":{"200":{"description":"Station added successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Station"}}}},"500":{"description":"Internal server error","content":{"application/json":{}}},"400":{"description":"Invalid request payload","content":{"application/json":{}}}}}},"/api/v1/connector/stopCharging":{"post":{"tags":["Connectors"],"summary":"Stop charging","description":"Stops a charging session for a user.","operationId":"stopCharging","parameters":[{"name":"Authorization","in":"header","description":"Authorization token","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StopRequest"}}},"required":true},"responses":{"200":{"description":"Charging stopped successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Transaction"}}}},"401":{"description":"Unauthorized access","content":{"application/json":{}}},"500":{"description":"Internal server error","content":{"application/json":{}}},"400":{"description":"Invalid request payload","content":{"application/json":{}}}}}},"/api/v1/connector/startCharging":{"post":{"tags":["Connectors"],"summary":"Start charging","description":"Starts a charging session for a user.","operationId":"startCharging","parameters":[{"name":"Authorization","in":"header","description":"Authorization token","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StartChargingRequest"}}},"required":true},"responses":{"200":{"description":"Charging started successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Transaction"}}}},"401":{"description":"Unauthorized access","content":{"application/json":{}}},"500":{"description":"Internal server error","content":{"application/json":{}}},"400":{"description":"Invalid request payload","content":{"application/json":{}}}}}},"/api/v1/connector/add":{"post":{"tags":["Connectors"],"summary":"Add a new connector","description":"Adds a new connector to the system.","operationId":"addConnector","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddRequest"}}},"required":true},"responses":{"200":{"description":"Connector added successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Connector"}}}},"500":{"description":"Internal server error","content":{"application/json":{}}},"400":{"description":"Invalid request payload","content":{"application/json":{}}}}}},"/api/v1/auth/register":{"post":{"tags":["Authentication"],"summary":"Register a new user","description":"This endpoint registers a new user and returns an authentication token.","operationId":"register","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterRequest"}}}},"responses":{"200":{"description":"Registration successful","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseTemplate"}}}},"400":{"description":"Bad request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResponseTemplateString"}}}}}}},"/api/v1/auth/login":{"post":{"tags":["Authentication"],"summary":"Login an existing user","description":"This endpoint logs in a user and returns an authentication token.","operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}}},"responses":{"200":{"description":"Login successful","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseTemplate"}}}},"400":{"description":"Invalid credentials","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResponseTemplateString"}}}}}}},"/api/v1/user/profile":{"get":{"tags":["User Management"],"summary":"Get user profile","description":"Retrieves the profile of the authenticated user.","operationId":"getProfile","parameters":[{"name":"Authorization","in":"header","description":"Authorization token","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Profile retrieved successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProfileResponse"}}}},"401":{"description":"Unauthorized access","content":{"application/json":{}}},"500":{"description":"Internal server error","content":{"application/json":{}}}}}},"/api/v1/transaction/get":{"get":{"tags":["Transactions"],"summary":"Get user transactions","description":"Retrieves a list of transactions for the authenticated user.","operationId":"getUserTransactions","parameters":[{"name":"Authorization","in":"header","description":"Authorization token","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Transactions retrieved successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Transaction"}}}},"401":{"description":"Unauthorized access","content":{"application/json":{}}},"500":{"description":"Internal server error","content":{"application/json":{}}}}}},"/api/v1/station/get":{"get":{"tags":["Stations"],"summary":"Get a list of stations","description":"Retrieves a list of stations. Optionally filters by location.","operationId":"getStations","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetByLocationRequest"}}}},"responses":{"200":{"description":"Stations retrieved successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Station"}}}},"500":{"description":"Internal server error","content":{"application/json":{}}},"400":{"description":"Invalid request payload","content":{"application/json":{}}}}}}},"components":{"schemas":{"EditRequest":{"type":"object","properties":{"email":{"type":"string"},"name":{"type":"string"}},"required":["email","name"]},"EditResponse":{"type":"object","properties":{"email":{"type":"string"},"name":{"type":"string"}}},"ReserveRequest":{"type":"object","properties":{"stationId":{"type":"integer","format":"int32"},"connectorId":{"type":"integer","format":"int32"}},"required":["connectorId","stationId"]},"ReservationResponse":{"type":"object","properties":{"username":{"type":"string"},"connectorId":{"type":"integer","format":"int32"},"stationId":{"type":"integer","format":"int32"},"timestamp":{"type":"string","format":"date-time"},"expirationTime":{"type":"string","format":"date-time"}}},"AddRequest":{"type":"object","properties":{"address":{"type":"string"},"stationName":{"type":"string"},"status":{"type":"string","enum":["AVAILABLE","UNDER_MAINTENANCE","INOPERATIVE"]}}},"Connector":{"type":"object","properties":{"connectorId":{"type":"integer","format":"int32"},"currentType":{"type":"string"},"connectorType":{"type":"string"},"maxPower":{"type":"number","format":"double"},"pricePerKw":{"type":"number","format":"double"},"chargingStatus":{"type":"string"},"station":{"$ref":"#/components/schemas/Station"}}},"Station":{"type":"object","properties":{"stationId":{"type":"integer","format":"int32"},"stationName":{"type":"string"},"status":{"type":"string"},"address":{"type":"string"},"latitude":{"type":"number","format":"double"},"longitude":{"type":"number","format":"double"},"connectors":{"type":"array","items":{"$ref":"#/components/schemas/Connector"}}}},"StopRequest":{"type":"object","properties":{"transactionId":{"type":"integer","format":"int32"}},"required":["transactionId"]},"GrantedAuthority":{"type":"object","properties":{"authority":{"type":"string"}}},"Reservation":{"type":"object","properties":{"reservationId":{"type":"integer","format":"int32"},"timestamp":{"type":"string","format":"date-time"},"expirationTime":{"type":"string","format":"date-time"},"user":{"$ref":"#/components/schemas/User"},"stationId":{"type":"integer","format":"int32"},"connectorId":{"type":"integer","format":"int32"}}},"Transaction":{"type":"object","properties":{"transactionId":{"type":"integer","format":"int32"},"startTime":{"type":"string","format":"date-time"},"stopTime":{"type":"string","format":"date-time"},"user":{"$ref":"#/components/schemas/User"},"connector":{"$ref":"#/components/schemas/Connector"},"revenue":{"type":"number","format":"double"},"amount":{"type":"number","format":"double"}}},"User":{"type":"object","properties":{"userId":{"type":"integer","format":"int32"},"email":{"type":"string"},"password":{"type":"string"},"name":{"type":"string"},"transactions":{"type":"array","items":{"$ref":"#/components/schemas/Transaction"}},"reservations":{"type":"array","items":{"$ref":"#/components/schemas/Reservation"}},"wallet":{"$ref":"#/components/schemas/Wallet"},"enabled":{"type":"boolean"},"accountNonLocked":{"type":"boolean"},"username":{"type":"string"},"authorities":{"type":"array","items":{"$ref":"#/components/schemas/GrantedAuthority"}},"accountNonExpired":{"type":"boolean"},"credentialsNonExpired":{"type":"boolean"}}},"Wallet":{"type":"object","properties":{"walletId":{"type":"integer","format":"int32"},"user":{"$ref":"#/components/schemas/User"},"fidelityPoints":{"type":"integer","format":"int32"}}},"StartChargingRequest":{"type":"object","properties":{"connectorId":{"type":"integer","format":"int32"},"stationId":{"type":"integer","format":"int32"},"revenue":{"type":"number","format":"double","minimum":25}},"required":["connectorId","revenue","stationId"]},"ResponseTemplate":{"type":"object","properties":{"timestamp":{"type":"string"},"message":{"type":"string"},"data":{}}},"RegisterRequest":{"type":"object","properties":{"name":{"type":"string"},"email":{"type":"string"},"password":{"type":"string","maxLength":20,"minLength":8}},"required":["email","name","password"]},"ResponseTemplateString":{"type":"object","properties":{"timestamp":{"type":"string"},"message":{"type":"string"},"data":{"type":"string"}}},"LoginRequest":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}},"required":["email","password"]},"ProfileResponse":{"type":"object","properties":{"name":{"type":"string"},"email":{"type":"string"},"fidelityPoints":{"type":"integer","format":"int32"}}},"GetByLocationRequest":{"type":"object","description":"Optional filter by location","properties":{"latitude":{"type":"number","format":"double","maximum":90.0,"minimum":-90.0},"longitude":{"type":"number","format":"double","maximum":180.0,"minimum":-180.0},"radius":{"type":"number","format":"double","minimum":0.0}}}}}}